#!/bin/bash

#
# Generated by Webintrinsics Clusterlite:
# __COMMAND__
#
# Parameters: __PARSED_ARGUMENTS__
#
# Prerequisites:
# - clusterlite install
#

set -e

uninstall_volume() {
    (>&2 echo "__LOG__ uninstalling data directory")
    rm /var/lib/clusterlite/volume.txt || (>&2 echo "__LOG__ warning: some data has not been removed")
    rm -Rf /var/lib/clusterlite || (>&2 echo "__LOG__ warning: some data has not been removed")
    rm -Rf __VOLUME__ || (>&2 echo "__LOG__ warning: some data has not been removed")
}

uninstall_weave() {
    (>&2 echo "__LOG__ uninstalling weave network")
    weave reset
}

uninstall_weave
uninstall_volume

# TODO think about dropping loaded images and finished containers

(>&2 echo "__LOG__ done")

